import{a as e,at as t,ct as n,ot as r,rt as i,s as a,st as o}from"./index-BeQYUyRa.js";var s=e(`rotate-ccw`,[[`path`,{d:`M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`1357e3`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}]]),c=t(),l=n(o(),1),u=i();const d=(0,l.forwardRef)((e,t)=>{let n=(0,c.c)(14),r,i,a,o,s,l;n[0]===e?(r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],l=n[6]):({children:r,variant:a,size:o,fullWidth:s,className:l,...i}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=a,n[4]=o,n[5]=s,n[6]=l);let d=a===void 0?`primary`:a,f=o===void 0?`md`:o,p=s===void 0?!1:s,m=l===void 0?``:l,h;n[7]===Symbol.for(`react.memo_cache_sentinel`)?(h={primary:`bg-primary text-white shadow-lg shadow-primary/20 hover:bg-primary/90`,secondary:`bg-bg-page text-text-primary border border-border-light hover:bg-bg-card`,outline:`bg-transparent border-2 border-primary text-primary hover:bg-primary/5`},n[7]=h):h=n[7];let g=h,_;n[8]===Symbol.for(`react.memo_cache_sentinel`)?(_={sm:`px-4 py-2 text-sm`,md:`px-6 py-3 text-base`,lg:`px-8 py-4 text-lg`},n[8]=_):_=n[8];let v=_,y=`inline-flex items-center justify-center font-bold transition-all active:scale-95 disabled:opacity-50 disabled:active:scale-100 rounded-xl ${g[d]} ${v[f]} ${p?`w-full`:``} ${m}`,b;return n[9]!==r||n[10]!==i||n[11]!==t||n[12]!==y?(b=(0,u.jsx)(`button`,{ref:t,className:y,...i,children:r}),n[9]=r,n[10]=i,n[11]=t,n[12]=y,n[13]=b):b=n[13],b});d.displayName=`Button`;var f=t(),p=r();const m=e=>{let t=(0,f.c)(14),{message:n,duration:r,onClose:i,type:a}=e,o=r===void 0?2e3:r,s=a===void 0?`info`:a,[c,d]=(0,l.useState)(!0),m,h;t[0]!==o||t[1]!==i?(m=()=>{let e=setTimeout(()=>{d(!1),setTimeout(i,300)},o);return()=>clearTimeout(e)},h=[o,i],t[0]=o,t[1]=i,t[2]=m,t[3]=h):(m=t[2],h=t[3]),(0,l.useEffect)(m,h);let g;t[4]===Symbol.for(`react.memo_cache_sentinel`)?(g={success:`bg-success`,error:`bg-danger`,info:`bg-primary`},t[4]=g):g=t[4];let _=g,v=`
      fixed top-10 left-1/2 -translate-x-1/2 z-100
      ${c?`animate-in fade-in slide-in-from-top-4`:`animate-out fade-out slide-out-to-top-4`}
      duration-300
    `,y=`${_[s]} text-white px-6 py-3 rounded-full shadow-2xl font-bold flex items-center gap-3`,b;t[5]===s?b=t[6]:(b=s===`success`&&(0,u.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`3`,strokeLinecap:`round`,strokeLinejoin:`round`,children:(0,u.jsx)(`path`,{d:`M20 6 9 17l-5-5`})}),t[5]=s,t[6]=b);let x;t[7]!==n||t[8]!==y||t[9]!==b?(x=(0,u.jsxs)(`div`,{className:y,children:[b,n]}),t[7]=n,t[8]=y,t[9]=b,t[10]=x):x=t[10];let S;return t[11]!==v||t[12]!==x?(S=(0,p.createPortal)((0,u.jsx)(`div`,{className:v,children:x}),document.body),t[11]=v,t[12]=x,t[13]=S):S=t[13],S},h=({text:e,label:t=`复制出装`,title:n,className:r=`w-full flex flex-col gap-3`})=>{let[i,o]=(0,l.useState)(!1),[s,c]=(0,l.useState)(``),[f,p]=(0,l.useState)(`success`),[h,g]=(0,l.useState)(!1),_=(0,u.jsxs)(d,{fullWidth:!0,onClick:async()=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(e),c(`出装方案已复制`),p(`success`),o(!0);else throw Error(`Clipboard API not available`)}catch(e){console.error(`Failed to copy: `,e),g(!0),c(`复制失败，请手动复制`),p(`error`),o(!0)}},children:[(0,u.jsxs)(`svg`,{className:`mr-2`,xmlns:`http://www.w3.org/2000/svg`,width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2.5`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,u.jsx)(`rect`,{width:`14`,height:`14`,x:`8`,y:`8`,rx:`2`,ry:`2`}),(0,u.jsx)(`path`,{d:`M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2`})]}),t]});return(0,u.jsxs)(`div`,{className:r,children:[n?(0,u.jsx)(a,{title:(0,u.jsx)(`div`,{className:`whitespace-pre-line text-[11px] leading-relaxed p-1`,children:n}),arrow:!0,placement:`top`,slotProps:{tooltip:{sx:{bgcolor:`rgba(31, 41, 55, 0.95)`,backdropFilter:`blur(4px)`,color:`#fff`,borderRadius:`12px`,padding:`8px 12px`,boxShadow:`0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)`,border:`1px solid rgba(255, 255, 255, 0.1)`,maxWidth:`300px`}},arrow:{sx:{color:`rgba(31, 41, 55, 0.95)`}}},children:_}):_,h&&(0,u.jsxs)(`div`,{className:`animate-in fade-in slide-in-from-top-2 duration-300`,children:[(0,u.jsx)(`textarea`,{readOnly:!0,value:e,className:`w-full h-24 p-3 bg-bg-page border-2 border-dashed border-border-light rounded-xl text-sm text-text-secondary focus:outline-none`,onClick:e=>e.target.select()}),(0,u.jsx)(`p`,{className:`text-[12px] text-text-secondary mt-1 text-center`,children:`由于系统限制，请长按上方文本框手动全选复制`})]}),i&&(0,u.jsx)(m,{message:s,type:f,onClose:()=>o(!1)})]})};export{m as n,s as r,h as t};