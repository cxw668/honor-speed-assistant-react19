import{i as e,o as t,t as n}from"./index-BuJs-lT0.js";import{n as r,t as i}from"./hero-_O4KuQx5.js";import{t as a}from"./Dialog-DmOUV0IA.js";var o=t(),s=e(),c=n();const l=e=>{let t=(0,s.c)(4),{children:n,active:r,onClick:i,className:a}=e,o=`
        px-3 py-1 rounded-full text-[14px] cursor-pointer transition-all duration-200
        ${r!==void 0&&r?`bg-primary text-white`:`bg-bg-light text-text-secondary hover:bg-[#EEEEEE]`}
        ${a===void 0?``:a}
      `,l;return t[0]!==n||t[1]!==i||t[2]!==o?(l=(0,c.jsx)(`span`,{onClick:i,className:o,children:n}),t[0]=n,t[1]=i,t[2]=o,t[3]=l):l=t[3],l};var u=e();const d=e=>{let t=(0,u.c)(24),{types:n,selectedType:r,onTypeChange:i,isNoviceOnly:a,onNoviceToggle:o,typeCounts:s}=e,d;t[0]===s?d=t[1]:(d=s===void 0?{}:s,t[0]=s,t[1]=d);let f=d,p;t[2]===Symbol.for(`react.memo_cache_sentinel`)?(p=(0,c.jsx)(`h3`,{className:`text-desc mb-2`,children:`英雄定位`}),t[2]=p):p=t[2];let m;if(t[3]!==i||t[4]!==r||t[5]!==f||t[6]!==n){let e;t[8]!==i||t[9]!==r||t[10]!==f?(e=e=>(0,c.jsxs)(`button`,{onClick:()=>i(e.name),"data-type":e.id,className:`
                group px-4 py-2.5 rounded-lg text-[15px] font-medium transition-all duration-200 border-none cursor-pointer
                flex items-center justify-between
                ${r===e.name?`bg-primary text-white shadow-sm`:`bg-white text-desc hover:bg-[#F0F0F0]`}
              `,children:[(0,c.jsx)(`span`,{children:e.name}),(0,c.jsx)(`span`,{className:`
                text-[11px] px-1.5 py-0.5 rounded-md min-w-6 text-center
                ${r===e.name?`bg-white/20 text-white`:`bg-bg-light text-text-secondary group-hover:bg-white`}
              `,children:f[e.name]||0})]},e.id),t[8]=i,t[9]=r,t[10]=f,t[11]=e):e=t[11],m=n.map(e),t[3]=i,t[4]=r,t[5]=f,t[6]=n,t[7]=m}else m=t[7];let h;t[12]===m?h=t[13]:(h=(0,c.jsxs)(`div`,{children:[p,(0,c.jsx)(`div`,{className:`flex flex-col gap-2`,children:m})]}),t[12]=m,t[13]=h);let g;t[14]===Symbol.for(`react.memo_cache_sentinel`)?(g=(0,c.jsx)(`h3`,{className:`text-desc mb-2`,children:`新手筛选`}),t[14]=g):g=t[14];let _;t[15]!==a||t[16]!==o?(_=()=>o(!a),t[15]=a,t[16]=o,t[17]=_):_=t[17];let v;t[18]!==a||t[19]!==_?(v=(0,c.jsxs)(`div`,{children:[g,(0,c.jsx)(l,{active:a,onClick:_,children:`新手推荐 (难度⭐-⭐⭐)`})]}),t[18]=a,t[19]=_,t[20]=v):v=t[20];let y;return t[21]!==h||t[22]!==v?(y=(0,c.jsxs)(`div`,{className:`flex flex-col gap-element-large`,children:[h,v]}),t[21]=h,t[22]=v,t[23]=y):y=t[23],y};var f=e();const p=e=>{let t=(0,f.c)(17),{src:n,name:r,active:i,onClick:a}=e,o=i===void 0?!1:i,s=`https://ui-avatars.com/api/?name=${encodeURIComponent(r)}&background=FF9F00&color=fff&rounded=true`,l=`
        flex flex-col items-center gap-1 cursor-pointer transition-all duration-200
        ${o?`scale-110`:`hover:scale-105`}
      `,u=`
        w-16 h-16 rounded-lg overflow-hidden border-2
        ${o?`border-primary shadow-lg`:`border-transparent`}
        bg-bg-light flex items-center justify-center
      `,d=n||s,p;t[0]===s?p=t[1]:(p=e=>{e.target.src=s},t[0]=s,t[1]=p);let m;t[2]!==r||t[3]!==d||t[4]!==p?(m=(0,c.jsx)(`img`,{src:d,alt:r,className:`w-full h-full object-cover`,onError:p}),t[2]=r,t[3]=d,t[4]=p,t[5]=m):m=t[5];let h;t[6]!==u||t[7]!==m?(h=(0,c.jsx)(`div`,{className:u,children:m}),t[6]=u,t[7]=m,t[8]=h):h=t[8];let g=`text-[12px] text-center line-clamp-1 ${o?`text-primary font-bold`:`text-white`}`,_;t[9]!==r||t[10]!==g?(_=(0,c.jsx)(`span`,{className:g,children:r}),t[9]=r,t[10]=g,t[11]=_):_=t[11];let v;return t[12]!==a||t[13]!==l||t[14]!==h||t[15]!==_?(v=(0,c.jsxs)(`div`,{onClick:a,className:l,children:[h,_]}),t[12]=a,t[13]=l,t[14]=h,t[15]=_,t[16]=v):v=t[16],v};var m=e();const h=e=>{let t=(0,m.c)(10),{heroes:n,selectedHeroId:r,onHeroSelect:i}=e;if(n.length===0){let e;return t[0]===Symbol.for(`react.memo_cache_sentinel`)?(e=(0,c.jsx)(`div`,{className:`flex justify-center items-center h-40 card`,children:(0,c.jsx)(`p`,{className:`text-desc`,children:`暂无匹配英雄`})}),t[0]=e):e=t[0],e}let a;if(t[1]!==n||t[2]!==i||t[3]!==r){let e;t[5]!==i||t[6]!==r?(e=e=>(0,c.jsx)(p,{src:e.avatar,name:e.heroName,active:r===e.id,onClick:()=>i(e.id)},e.id),t[5]=i,t[6]=r,t[7]=e):e=t[7],a=n.map(e),t[1]=n,t[2]=i,t[3]=r,t[4]=a}else a=t[4];let o;return t[8]===a?o=t[9]:(o=(0,c.jsx)(`div`,{className:`grid grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8 gap-x-4 gap-y-6 p-inner card overflow-y-auto max-h-[560px] scrollbar-hide`,children:a}),t[8]=a,t[9]=o),o};var g=e();const _=e=>{let t=(0,g.c)(37),{hero:n}=e;if(!n){let e;return t[0]===Symbol.for(`react.memo_cache_sentinel`)?(e=(0,c.jsx)(`div`,{className:`flex-1 flex justify-center items-center card border-dashed border-2 border-[#ddd]`,children:(0,c.jsx)(`div`,{className:`text-desc text-[16px]`,children:` ⬆️点击英雄查看详情`})}),t[0]=e):e=t[0],e}let r=v,i;t[1]===n.heroName?i=t[2]:(i=(0,c.jsx)(`h2`,{className:`text-[24px] font-bold text-white mb-2`,children:n.heroName}),t[1]=n.heroName,t[2]=i);let a;t[3]===n.difficulty?a=t[4]:(a=r(n.difficulty),t[3]=n.difficulty,t[4]=a);let o;t[5]===a?o=t[6]:(o=(0,c.jsx)(`span`,{className:`text-yellow-400 text-[20px] drop-shadow-sm`,children:a}),t[5]=a,t[6]=o);let s;t[7]!==i||t[8]!==o?(s=(0,c.jsxs)(`div`,{className:`flex justify-between items-start`,children:[i,o]}),t[7]=i,t[8]=o,t[9]=s):s=t[9];let l;t[10]===n.heroType?l=t[11]:(l=n.heroType&&(0,c.jsx)(`span`,{className:`bg-primary/20 text-primary px-3 py-1 rounded-lg text-[12px] font-bold border border-primary/20`,children:n.heroType},n.heroType),t[10]=n.heroType,t[11]=l);let u;t[12]===n.isNewbieRecommend?u=t[13]:(u=n.isNewbieRecommend&&(0,c.jsx)(`span`,{className:`bg-success/20 text-success px-3 py-1 rounded-lg text-[12px] font-bold border border-success/20`,children:`新手推荐`}),t[12]=n.isNewbieRecommend,t[13]=u);let d;t[14]!==l||t[15]!==u?(d=(0,c.jsxs)(`div`,{className:`flex gap-2 mt-1`,children:[l,u]}),t[14]=l,t[15]=u,t[16]=d):d=t[16];let f;t[17]!==s||t[18]!==d?(f=(0,c.jsxs)(`div`,{className:`bg-white/5 p-4 rounded-xl shrink-0`,children:[s,d]}),t[17]=s,t[18]=d,t[19]=f):f=t[19];let p;t[20]===Symbol.for(`react.memo_cache_sentinel`)?(p=(0,c.jsx)(`h4`,{className:`text-[14px] font-bold text-primary mb-1`,children:`核心定位`}),t[20]=p):p=t[20];let m;t[21]===n.corePosition?m=t[22]:(m=(0,c.jsxs)(`div`,{className:`bg-white/5 p-4 rounded-xl border-l-4 border-primary`,children:[p,(0,c.jsx)(`p`,{className:`text-white/90 text-[15px] leading-relaxed`,children:n.corePosition})]}),t[21]=n.corePosition,t[22]=m);let h;t[23]===Symbol.for(`react.memo_cache_sentinel`)?(h=(0,c.jsx)(`h4`,{className:`text-[14px] font-bold text-success mb-1`,children:`战斗特点`}),t[23]=h):h=t[23];let _;t[24]===n.combatFeature?_=t[25]:(_=(0,c.jsxs)(`div`,{className:`bg-white/5 p-4 rounded-xl border-l-4 border-success`,children:[h,(0,c.jsx)(`p`,{className:`text-white/90 text-[15px] leading-relaxed`,children:n.combatFeature})]}),t[24]=n.combatFeature,t[25]=_);let y;t[26]!==m||t[27]!==_?(y=(0,c.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-element-large`,children:[m,_]}),t[26]=m,t[27]=_,t[28]=y):y=t[28];let b;t[29]===Symbol.for(`react.memo_cache_sentinel`)?(b=(0,c.jsxs)(`h4`,{className:`text-[#FF7676] font-bold text-[16px] mb-2 flex items-center gap-2`,children:[(0,c.jsx)(`span`,{className:`w-1.5 h-1.5 rounded-full bg-[#FF7676]`}),`上手建议`]}),t[29]=b):b=t[29];let x;t[30]===Symbol.for(`react.memo_cache_sentinel`)?(x={textIndent:`2em`},t[30]=x):x=t[30];let S=n.isNewbieRecommend?`该英雄操作门槛较低，技能逻辑清晰，非常适合新手玩家快速上手，在对局中能通过简单的连招发挥巨大作用。`:`该英雄对操作节奏或意识有一定要求，建议在训练营熟悉技能机制后再进入实战对局。`,C;t[31]===S?C=t[32]:(C=(0,c.jsxs)(`div`,{className:`bg-white/5 p-5 rounded-xl border border-white/10`,children:[b,(0,c.jsx)(`p`,{className:`text-white/80 text-[14px] leading-relaxed italic`,style:x,children:S})]}),t[31]=S,t[32]=C);let w;return t[33]!==y||t[34]!==C||t[35]!==f?(w=(0,c.jsxs)(`div`,{className:`h-full flex flex-col text-white gap-module animate-in fade-in duration-300 pr-2`,children:[f,y,C]}),t[33]=y,t[34]=C,t[35]=f,t[36]=w):w=t[36],w};function v(e){return`★`.repeat(e)}var y=e();const b=e=>{let t=(0,y.c)(12),{value:n,onChange:r,placeholder:i}=e,a=i===void 0?`搜索英雄名称...`:i,o;t[0]===r?o=t[1]:(o=e=>r(e.target.value),t[0]=r,t[1]=o);let s;t[2]!==a||t[3]!==o||t[4]!==n?(s=(0,c.jsx)(`input`,{type:`text`,value:n,onChange:o,placeholder:a,className:`w-full h-11 px-4 py-2 bg-white border border-[#ddd] rounded-lg text-[16px] text-text-main placeholder:text-text-secondary focus:outline-none focus:border-primary transition-colors duration-200`}),t[2]=a,t[3]=o,t[4]=n,t[5]=s):s=t[5];let l;t[6]!==r||t[7]!==n?(l=n&&(0,c.jsx)(`button`,{onClick:()=>r(``),className:`absolute right-3 top-1/2 -translate-y-1/2 text-text-secondary hover:text-danger cursor-pointer border-none bg-transparent text-[18px]`,children:`×`}),t[6]=r,t[7]=n,t[8]=l):l=t[8];let u;return t[9]!==s||t[10]!==l?(u=(0,c.jsxs)(`div`,{className:`relative w-full`,children:[s,l]}),t[9]=s,t[10]=l,t[11]=u):u=t[11],u};var x=[{id:0,name:`全部`},{id:3,name:`坦克`},{id:1,name:`战士`},{id:4,name:`刺客`},{id:2,name:`法师`},{id:5,name:`射手`},{id:6,name:`辅助`}];const S=()=>{let[e,t]=(0,o.useState)(`全部`),[n,s]=(0,o.useState)(!1),[l,u]=(0,o.useState)(``),[f,p]=(0,o.useState)(),[m,g]=(0,o.useState)(!1),v=(0,o.useMemo)(()=>Object.values(r).flat().map(e=>{let t=i.find(t=>t.hero===e.heroName);return{...e,avatar:t?.hero_src}}),[]),y=(0,o.useMemo)(()=>v.filter(t=>{let r=e===`全部`||t.heroType===e,i=!n||t.isNewbieRecommend,a=!l||t.heroName.toLowerCase().includes(l.toLowerCase());return r&&i&&a}),[v,e,n,l]),S=(0,o.useMemo)(()=>v.find(e=>e.id===f),[v,f]),C=e=>{p(e),g(!0)},w=y.reduce((e,t)=>(e[t.heroName]=(e[t.heroName]||0)+1,e),{}),T=Object.values(w).flat().length,E=(0,o.useMemo)(()=>({全部:T,坦克:r.坦克.length,战士:r.战士.length,刺客:r.刺客.length,辅助:r.辅助.length,射手:r.射手.length,法师:r.法师.length}),[v]);return(0,c.jsxs)(`div`,{className:`page-container flex overflow-hidden mt-6 ml-4`,children:[(0,c.jsx)(`div`,{className:`w-[300px] flex flex-col gap-module shrink-0 overflow-hidden`,children:(0,c.jsxs)(`div`,{className:`card h-full overflow-hidden`,children:[(0,c.jsxs)(`div`,{className:`flex justify-between items-center mb-4`,children:[(0,c.jsx)(`h2`,{className:`title`,children:`英雄速查`}),(0,c.jsxs)(`span`,{className:`text-[12px] bg-bg-page px-2 py-1 rounded-full text-text-secondary border border-border-light`,children:[`共 `,T,` 位`]})]}),(0,c.jsxs)(`div`,{className:`flex flex-col gap-6 pr-2 scrollbar-hide`,children:[(0,c.jsxs)(`section`,{children:[(0,c.jsx)(`h3`,{className:`text-desc mb-2`,children:`快速搜索`}),(0,c.jsx)(b,{value:l,onChange:u})]}),(0,c.jsx)(d,{types:x,selectedType:e,onTypeChange:t,isNoviceOnly:n,onNoviceToggle:s,typeCounts:E})]})]})}),(0,c.jsx)(`div`,{className:`flex-1 min-w-0 flex flex-col gap-module overflow-hidden h-screen`,children:(0,c.jsx)(h,{heroes:y,selectedHeroId:f,onHeroSelect:C})}),(0,c.jsx)(a,{isOpen:m,onClose:()=>g(!1),title:`英雄详情`,children:(0,c.jsx)(_,{hero:S})})]})};var C=S;export{S as HeroQueryPage,C as default};