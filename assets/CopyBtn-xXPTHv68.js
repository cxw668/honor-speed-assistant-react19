import{a as e,c as t,i as n,o as r,t as i}from"./index-D-aD7E24.js";var a=n(),o=t(r(),1),s=i();const c=e=>{let t=(0,a.c)(13),n,r,i,o,c,l;t[0]===e?(n=t[1],r=t[2],i=t[3],o=t[4],c=t[5],l=t[6]):({children:n,variant:i,size:o,fullWidth:c,className:l,...r}=e,t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=c,t[6]=l);let u=i===void 0?`primary`:i,d=o===void 0?`md`:o,f=c===void 0?!1:c,p=l===void 0?``:l,m;t[7]===Symbol.for(`react.memo_cache_sentinel`)?(m={primary:`bg-primary text-white shadow-lg shadow-primary/20 hover:bg-primary/90`,secondary:`bg-bg-page text-text-primary border border-border-light hover:bg-bg-card`,outline:`bg-transparent border-2 border-primary text-primary hover:bg-primary/5`},t[7]=m):m=t[7];let h=m,g;t[8]===Symbol.for(`react.memo_cache_sentinel`)?(g={sm:`px-4 py-2 text-sm`,md:`px-6 py-3 text-base`,lg:`px-8 py-4 text-lg`},t[8]=g):g=t[8];let _=g,v=`inline-flex items-center justify-center font-bold transition-all active:scale-95 disabled:opacity-50 disabled:active:scale-100 rounded-xl ${h[u]} ${_[d]} ${f?`w-full`:``} ${p}`,y;return t[9]!==n||t[10]!==r||t[11]!==v?(y=(0,s.jsx)(`button`,{className:v,...r,children:n}),t[9]=n,t[10]=r,t[11]=v,t[12]=y):y=t[12],y};var l=n(),u=e();const d=e=>{let t=(0,l.c)(14),{message:n,duration:r,onClose:i,type:a}=e,c=r===void 0?2e3:r,d=a===void 0?`info`:a,[f,p]=(0,o.useState)(!0),m,h;t[0]!==c||t[1]!==i?(m=()=>{let e=setTimeout(()=>{p(!1),setTimeout(i,300)},c);return()=>clearTimeout(e)},h=[c,i],t[0]=c,t[1]=i,t[2]=m,t[3]=h):(m=t[2],h=t[3]),(0,o.useEffect)(m,h);let g;t[4]===Symbol.for(`react.memo_cache_sentinel`)?(g={success:`bg-success`,error:`bg-danger`,info:`bg-primary`},t[4]=g):g=t[4];let _=g,v=`
      fixed top-10 left-1/2 -translate-x-1/2 z-[100]
      ${f?`animate-in fade-in slide-in-from-top-4`:`animate-out fade-out slide-out-to-top-4`}
      duration-300
    `,y=`${_[d]} text-white px-6 py-3 rounded-full shadow-2xl font-bold flex items-center gap-3`,b;t[5]===d?b=t[6]:(b=d===`success`&&(0,s.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`3`,strokeLinecap:`round`,strokeLinejoin:`round`,children:(0,s.jsx)(`path`,{d:`M20 6 9 17l-5-5`})}),t[5]=d,t[6]=b);let x;t[7]!==n||t[8]!==y||t[9]!==b?(x=(0,s.jsxs)(`div`,{className:y,children:[b,n]}),t[7]=n,t[8]=y,t[9]=b,t[10]=x):x=t[10];let S;return t[11]!==v||t[12]!==x?(S=(0,u.createPortal)((0,s.jsx)(`div`,{className:v,children:x}),document.body),t[11]=v,t[12]=x,t[13]=S):S=t[13],S},f=({text:e,label:t=`一键复制出装`})=>{let[n,r]=(0,o.useState)(!1),[i,a]=(0,o.useState)(``),[l,u]=(0,o.useState)(`success`),[f,p]=(0,o.useState)(!1);return(0,s.jsxs)(`div`,{className:`w-full flex flex-col gap-3`,children:[(0,s.jsxs)(c,{fullWidth:!0,onClick:async()=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(e),a(`出装方案已复制`),u(`success`),r(!0);else throw Error(`Clipboard API not available`)}catch(e){console.error(`Failed to copy: `,e),p(!0),a(`复制失败，请手动复制`),u(`error`),r(!0)}},children:[(0,s.jsxs)(`svg`,{className:`mr-2`,xmlns:`http://www.w3.org/2000/svg`,width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2.5`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,s.jsx)(`rect`,{width:`14`,height:`14`,x:`8`,y:`8`,rx:`2`,ry:`2`}),(0,s.jsx)(`path`,{d:`M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2`})]}),t]}),f&&(0,s.jsxs)(`div`,{className:`animate-in fade-in slide-in-from-top-2 duration-300`,children:[(0,s.jsx)(`textarea`,{readOnly:!0,value:e,className:`w-full h-24 p-3 bg-bg-page border-2 border-dashed border-border-light rounded-xl text-sm text-text-secondary focus:outline-none`,onClick:e=>e.target.select()}),(0,s.jsx)(`p`,{className:`text-[12px] text-text-secondary mt-1 text-center`,children:`由于系统限制，请长按上方文本框手动全选复制`})]}),n&&(0,s.jsx)(d,{message:i,type:l,onClose:()=>r(!1)})]})};export{d as n,c as r,f as t};