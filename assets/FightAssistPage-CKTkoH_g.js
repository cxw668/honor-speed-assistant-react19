import{c as e,i as t,o as n,t as r}from"./index-BuJs-lT0.js";import{t as i}from"./Button-B-yg1s7X.js";import{t as a}from"./summonerSkills-Do8zHABj.js";var o=t(),s=e(n(),1),c=r(),l=a.map(e=>{let t=e.description.match(/(\d+)ç§’CD/);return{name:e.name,cd:t?parseInt(t[1]):90,icon:e.icon}});const u=()=>{let[e,t]=(0,s.useState)(l[0]),[n,r]=(0,s.useState)(l[0].cd),[a,o]=(0,s.useState)(!1),u=(0,s.useRef)(null),d=()=>{try{let e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.type=`sine`,t.frequency.setValueAtTime(880,e.currentTime),n.gain.setValueAtTime(0,e.currentTime),n.gain.linearRampToValueAtTime(.5,e.currentTime+.1),n.gain.linearRampToValueAtTime(0,e.currentTime+.5),t.start(),t.stop(e.currentTime+.5)}catch(e){console.error(`Audio alert failed:`,e)}};(0,s.useEffect)(()=>(a&&n>0?u.current=setInterval(()=>{r(e=>e<=1?(o(!1),d(),0):e-1)},1e3):u.current&&clearInterval(u.current),()=>{u.current&&clearInterval(u.current)}),[a,n]);let f=e=>{t(e),r(e.cd),o(!1)};return(0,c.jsxs)(`div`,{className:`flex flex-col gap-8 p-8 bg-bg-card rounded-[40px] shadow-lg border-2 border-primary/10 h-full`,children:[(0,c.jsx)(`h3`,{className:`title text-center text-xl`,children:`å¬å”¤å¸ˆæŠ€èƒ½CDè®¡æ—¶å™¨`}),(0,c.jsx)(`div`,{className:`grid grid-cols-3 gap-4`,children:l.map(t=>(0,c.jsxs)(`button`,{onClick:()=>f(t),className:`flex flex-col items-center gap-2 p-3 rounded-2xl border-2 transition-all ${e.name===t.name?`border-primary bg-primary/10 shadow-md`:`border-transparent bg-bg-page hover:border-primary/30`}`,children:[(0,c.jsx)(`img`,{src:t.icon,alt:t.name,className:`w-12 h-12 rounded-xl shadow-sm`}),(0,c.jsx)(`span`,{className:`text-xs font-bold ${e.name===t.name?`text-primary`:`text-text-secondary`}`,children:t.name})]},t.name))}),(0,c.jsxs)(`div`,{className:`flex-1 flex flex-col items-center justify-center py-10`,children:[(0,c.jsxs)(`div`,{className:`text-7xl md:text-8xl font-black font-mono tracking-tighter transition-colors ${n===0?`text-success animate-pulse`:`text-primary`}`,children:[n,(0,c.jsx)(`span`,{className:`text-2xl ml-2 font-bold`,children:`s`})]}),(0,c.jsxs)(`p`,{className:`text-text-secondary font-medium mt-4`,children:[e.name,` å†·å´ä¸­`]})]}),(0,c.jsxs)(`div`,{className:`grid grid-cols-3 gap-4`,children:[a?(0,c.jsx)(i,{variant:`secondary`,onClick:()=>{o(!1)},className:`rounded-2xl h-14 text-lg`,children:`æš‚åœ`}):(0,c.jsx)(i,{variant:`primary`,onClick:()=>{n>0&&o(!0)},className:`rounded-2xl h-14 text-lg`,children:`å¼€å§‹`}),(0,c.jsx)(i,{variant:`secondary`,onClick:()=>{o(!1),r(e.cd)},className:`rounded-2xl h-14 text-lg`,children:`é‡ç½®`})]})]})},d=()=>{let e=(0,o.c)(54),t;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=[],e[0]=t):t=e[0];let[n,r]=(0,s.useState)(t),a;e[1]===n?a=e[2]:(a=n.filter(f),e[1]=n,e[2]=a);let l=a.length,u;e[3]===n?u=e[4]:(u=n.filter(p),e[3]=n,e[4]=u);let d=u.length,m=n.length,h;e[5]!==m||e[6]!==l?(h=m===0?0:Math.round(l/m*100),e[5]=m,e[6]=l,e[7]=h):h=e[7];let g=h,_;e[8]!==d||e[9]!==m||e[10]!==g||e[11]!==l?(_={wins:l,losses:d,total:m,winRate:g},e[8]=d,e[9]=m,e[10]=g,e[11]=l,e[12]=_):_=e[12];let v=_,y;e[13]===n?y=e[14]:(y=()=>r([...n,`win`]),e[13]=n,e[14]=y);let b=y,x;e[15]===n?x=e[16]:(x=()=>r([...n,`loss`]),e[15]=n,e[16]=x);let S=x,C;e[17]===n?C=e[18]:(C=()=>r(n.slice(0,-1)),e[17]=n,e[18]=C);let w=C,T;e[19]===Symbol.for(`react.memo_cache_sentinel`)?(T=(0,c.jsx)(`h3`,{className:`title text-center text-xl`,children:`å¯¹æˆ˜èƒœç‡ç»Ÿè®¡`}),e[19]=T):T=e[19];let E;e[20]===Symbol.for(`react.memo_cache_sentinel`)?(E=(0,c.jsx)(`span`,{className:`text-success font-bold text-sm mb-1`,children:`èƒœåœº`}),e[20]=E):E=e[20];let D;e[21]===v.wins?D=e[22]:(D=(0,c.jsxs)(`div`,{className:`bg-success/5 border border-success/10 p-6 rounded-3xl flex flex-col items-center justify-center`,children:[E,(0,c.jsx)(`span`,{className:`text-4xl font-black text-success`,children:v.wins})]}),e[21]=v.wins,e[22]=D);let O;e[23]===Symbol.for(`react.memo_cache_sentinel`)?(O=(0,c.jsx)(`span`,{className:`text-danger font-bold text-sm mb-1`,children:`è´Ÿåœº`}),e[23]=O):O=e[23];let k;e[24]===v.losses?k=e[25]:(k=(0,c.jsxs)(`div`,{className:`bg-danger/5 border border-danger/10 p-6 rounded-3xl flex flex-col items-center justify-center`,children:[O,(0,c.jsx)(`span`,{className:`text-4xl font-black text-danger`,children:v.losses})]}),e[24]=v.losses,e[25]=k);let A;e[26]!==D||e[27]!==k?(A=(0,c.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[D,k]}),e[26]=D,e[27]=k,e[28]=A):A=e[28];let j;e[29]===Symbol.for(`react.memo_cache_sentinel`)?(j=(0,c.jsx)(`span`,{className:`text-3xl font-bold`,children:`%`}),e[29]=j):j=e[29];let M;e[30]===v.winRate?M=e[31]:(M=(0,c.jsxs)(`div`,{className:`text-6xl md:text-7xl font-black text-primary flex items-baseline gap-2`,children:[v.winRate,j]}),e[30]=v.winRate,e[31]=M);let N;e[32]===v.total?N=e[33]:(N=(0,c.jsxs)(`p`,{className:`text-text-secondary font-medium mt-4`,children:[`æ€»å±€æ•°: `,v.total,` åœº`]}),e[32]=v.total,e[33]=N);let P;e[34]!==M||e[35]!==N?(P=(0,c.jsxs)(`div`,{className:`flex-1 flex flex-col items-center justify-center py-10 bg-primary/5 rounded-[40px] border border-primary/10`,children:[M,N]}),e[34]=M,e[35]=N,e[36]=P):P=e[36];let F;e[37]===b?F=e[38]:(F=(0,c.jsx)(i,{variant:`primary`,onClick:b,className:`rounded-2xl h-14 bg-success border-success hover:bg-success/90`,children:`æ·»åŠ èƒœåœº`}),e[37]=b,e[38]=F);let I;e[39]===S?I=e[40]:(I=(0,c.jsx)(i,{variant:`secondary`,onClick:S,className:`rounded-2xl h-14 text-danger border-danger hover:bg-danger/5`,children:`æ·»åŠ è´Ÿåœº`}),e[39]=S,e[40]=I);let L;e[41]!==F||e[42]!==I?(L=(0,c.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[F,I]}),e[41]=F,e[42]=I,e[43]=L):L=e[43];let R=n.length===0,z;e[44]!==w||e[45]!==R?(z=(0,c.jsx)(i,{variant:`secondary`,onClick:w,disabled:R,className:`rounded-2xl h-12 text-text-secondary border-border-light text-sm`,children:`åˆ é™¤æœ€åä¸€æ¡`}),e[44]=w,e[45]=R,e[46]=z):z=e[46];let B;e[47]!==L||e[48]!==z?(B=(0,c.jsxs)(`div`,{className:`grid grid-cols-1 gap-4`,children:[L,z]}),e[47]=L,e[48]=z,e[49]=B):B=e[49];let V;return e[50]!==A||e[51]!==P||e[52]!==B?(V=(0,c.jsxs)(`div`,{className:`flex flex-col gap-8 p-8 bg-bg-card rounded-[40px] shadow-lg border-2 border-primary/10 h-full`,children:[T,A,P,B]}),e[50]=A,e[51]=P,e[52]=B,e[53]=V):V=e[53],V};function f(e){return e===`win`}function p(e){return e===`loss`}var m=t();function h(){let e=(0,m.c)(3),t;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,c.jsx)(`div`,{className:`flex-1 min-h-[500px]`,children:(0,c.jsx)(u,{})}),e[0]=t):t=e[0];let n;e[1]===Symbol.for(`react.memo_cache_sentinel`)?(n=(0,c.jsxs)(`div`,{className:`max-w-7xl mx-auto w-full h-full flex flex-col md:flex-row gap-6`,children:[t,(0,c.jsx)(`div`,{className:`flex-1 min-h-[500px]`,children:(0,c.jsx)(d,{})})]}),e[1]=n):n=e[1];let r;return e[2]===Symbol.for(`react.memo_cache_sentinel`)?(r=(0,c.jsxs)(`div`,{className:`h-full flex flex-col bg-bg-page overflow-hidden p-6`,children:[n,(0,c.jsx)(`div`,{className:`mt-6 text-center text-text-secondary text-sm animate-in fade-in duration-700`,children:(0,c.jsx)(`p`,{children:`ğŸ’¡ æç¤ºï¼šè®¡æ—¶å™¨å€’è®¡æ—¶ç»“æŸæ—¶ä¼šæœ‰ç”µå­éŸ³æé†’ã€‚èƒœç‡ç»Ÿè®¡å®æ—¶è®¡ç®—ï¼Œå¸®åŠ©ä½ æŒæ§å¯¹æˆ˜çŠ¶æ€ã€‚`})})]}),e[2]=r):r=e[2],r}export{h as default};