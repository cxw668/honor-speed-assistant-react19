import{c as e,i as t,o as n,t as r}from"./index-DnURp02z.js";import{n as i,r as a,t as o}from"./x-VNFvC4KJ.js";import{n as s,t as c}from"./trash-2-CLfiS910.js";import{n as l,t as u}from"./users-DTbuIQ-8.js";import{t as d}from"./zap-C1WxZ3L8.js";import{n as f,t as p}from"./hero_details-C8Iqy898.js";var m=i(`shield-alert`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}],[`path`,{d:`M12 8v4`,key:`1got3b`}],[`path`,{d:`M12 16h.01`,key:`1drbdi`}]]),h=i(`trending-up`,[[`path`,{d:`M16 7h6v6`,key:`box55l`}],[`path`,{d:`m22 7-8.5 8.5-5-5L2 17`,key:`1t1m79`}]]),g=t(),_=e(n(),1),v=r();const y=()=>{let{heroList:e}=a(),[t,n]=(0,_.useState)([,,,,,].fill(null)),[r,i]=(0,_.useState)([,,,,,].fill(null)),[g,y]=(0,_.useState)(null),b=e=>{if(!g)return;let{team:a,index:o}=g,s=a===`my`?[...t]:[...r];if(s[o]===e)return;s[o]=e,a===`my`?n(s):i(s);let c=s.findIndex((e,t)=>t>o&&e===null);c!==-1&&y({team:a,index:c})},x=e=>{if(!g)return;let{team:a}=g,o=a===`my`?[...t]:[...r],s=o.indexOf(e);s!==-1&&(o[s]=null,a===`my`?n(o):i(o),y({team:a,index:s}))},S=()=>{n([,,,,,].fill(null)),i([,,,,,].fill(null))},C=(0,_.useMemo)(()=>{let n=t.filter(e=>e!==null).map(t=>e.find(e=>e.id===t)).filter(Boolean),i=r.filter(e=>e!==null).map(t=>e.find(e=>e.id===t)).filter(Boolean),a=[],o=[],s=[],c=e=>p.filter(t=>t.name===e||t.name.startsWith(`${e}(`));return n.forEach(e=>{e&&c(e.heroName).forEach(t=>{t.relationships?.最佳搭档&&t.relationships.最佳搭档.heroes.forEach((r,i)=>{n.some(e=>e?.heroName===r.cname||r.cname.startsWith(`${e?.heroName}(`))&&(a.some(t=>t.hero===e.heroName&&t.partner===r.cname||t.hero===r.cname&&t.partner===e.heroName)||a.push({hero:e.heroName,partner:r.cname,desc:t.relationships.最佳搭档.descriptions[i]}))})})}),n.forEach(e=>{e&&c(e.heroName).forEach(t=>{t.relationships?.压制英雄&&t.relationships.压制英雄.heroes.forEach((n,r)=>{i.some(e=>e?.heroName===n.cname||n.cname.startsWith(`${e?.heroName}(`))&&o.push({hero:e.heroName,enemy:n.cname,desc:t.relationships.压制英雄.descriptions[r]})})})}),n.forEach(e=>{e&&c(e.heroName).forEach(t=>{t.relationships?.被压制英雄&&t.relationships.被压制英雄.heroes.forEach((n,r)=>{i.some(e=>e?.heroName===n.cname||n.cname.startsWith(`${e?.heroName}(`))&&(s.some(t=>t.enemy===n.cname&&t.hero===e.heroName)||s.push({enemy:n.cname,hero:e.heroName,desc:t.relationships.被压制英雄.descriptions[r]}))})})}),i.forEach(e=>{e&&c(e.heroName).forEach(t=>{t.relationships?.压制英雄&&t.relationships.压制英雄.heroes.forEach((r,i)=>{n.some(e=>e?.heroName===r.cname||r.cname.startsWith(`${e?.heroName}(`))&&(s.some(t=>t.enemy===e.heroName&&t.hero===r.cname)||s.push({enemy:e.heroName,hero:r.cname,desc:t.relationships.压制英雄.descriptions[i]}))}),t.relationships?.被压制英雄&&t.relationships.被压制英雄.heroes.forEach((r,i)=>{n.some(e=>e?.heroName===r.cname||r.cname.startsWith(`${e?.heroName}(`))&&(o.some(t=>t.hero===r.cname&&t.enemy===e.heroName)||o.push({hero:r.cname,enemy:e.heroName,desc:t.relationships.被压制英雄.descriptions[i]}))})})}),{partnerships:a,mySuppression:o,enemySuppression:s}},[t,r]),w=({team:t,index:n,id:r})=>{let i=r?e.find(e=>e.id===r):null;return(0,v.jsxs)(`div`,{onClick:()=>y({team:t,index:n}),className:`relative group w-full aspect-square rounded-2xl border-2 transition-all duration-300 overflow-hidden cursor-pointer ${t===`my`?`border-primary/20 bg-primary/5 hover:border-primary/50`:`border-danger/20 bg-danger/5 hover:border-danger/50`} ${g?.team===t&&g?.index===n?`ring-2 ring-offset-2 ring-primary scale-105`:``}`,children:[i?(0,v.jsx)(`img`,{src:i.heroSrc,alt:i.heroName,className:`w-full h-full object-cover animate-in fade-in zoom-in-95`}):(0,v.jsx)(`div`,{className:`w-full h-full flex items-center justify-center`,children:(0,v.jsx)(h,{size:24,className:t===`my`?`text-primary/30`:`text-danger/30`})}),(0,v.jsx)(`div`,{className:`absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center`,children:(0,v.jsx)(d,{size:16,className:`text-white`})}),i&&(0,v.jsx)(`div`,{className:`absolute bottom-0 left-0 right-0 bg-black/60 py-0.5 px-1 text-[10px] text-white text-center font-bold`,children:i.heroName})]})};return(0,v.jsxs)(`div`,{className:`flex flex-col gap-6 p-6 md:p-8 bg-bg-card rounded-[40px] shadow-2xl border-2 border-primary/10 h-full relative overflow-hidden group`,children:[(0,v.jsxs)(`div`,{className:`flex items-center justify-between relative z-10`,children:[(0,v.jsxs)(`h3`,{className:`text-xl font-black text-text-primary flex items-center gap-2`,children:[(0,v.jsx)(l,{size:20,className:`text-primary`}),`阵容克制关系分析`]}),(0,v.jsxs)(`button`,{onClick:S,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-xl text-xs font-bold text-text-secondary hover:text-danger hover:bg-danger/5 transition-all border border-transparent hover:border-danger/20`,children:[(0,v.jsx)(c,{size:14}),`重置阵容`]})]}),(0,v.jsxs)(`div`,{className:`grid grid-cols-2 gap-8 relative z-10`,children:[(0,v.jsxs)(`div`,{className:`space-y-3`,children:[(0,v.jsxs)(`div`,{className:`flex items-center gap-2 px-2`,children:[(0,v.jsx)(u,{size:16,className:`text-primary`}),(0,v.jsx)(`span`,{className:`text-sm font-black text-primary uppercase tracking-wider`,children:`己方阵容`})]}),(0,v.jsx)(`div`,{className:`grid grid-cols-5 gap-2`,children:t.map((e,t)=>(0,v.jsx)(w,{team:`my`,index:t,id:e},`my-${t}`))})]}),(0,v.jsxs)(`div`,{className:`space-y-3`,children:[(0,v.jsxs)(`div`,{className:`flex items-center gap-2 px-2 justify-end`,children:[(0,v.jsx)(`span`,{className:`text-sm font-black text-danger uppercase tracking-wider`,children:`敌方阵容`}),(0,v.jsx)(d,{size:16,className:`text-danger`})]}),(0,v.jsx)(`div`,{className:`grid grid-cols-5 gap-2`,children:r.map((e,t)=>(0,v.jsx)(w,{team:`enemy`,index:t,id:e},`enemy-${t}`))})]})]}),g&&(0,v.jsxs)(`div`,{className:`absolute inset-0 z-50 bg-bg-card/95 backdrop-blur-md animate-in fade-in duration-300 p-6 flex flex-col`,children:[(0,v.jsxs)(`div`,{className:`flex items-center justify-between mb-6`,children:[(0,v.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,v.jsx)(`div`,{className:`w-2 h-6 rounded-full ${g.team===`my`?`bg-primary`:`bg-danger`}`}),(0,v.jsxs)(`h4`,{className:`text-lg font-black text-text-primary`,children:[`选择`,g.team===`my`?`己方`:`敌方`,`第 `,g.index+1,` 位英雄`]})]}),(0,v.jsx)(`button`,{onClick:()=>y(null),className:`p-2 hover:bg-primary/10 rounded-full transition-colors text-text-secondary hover:text-primary`,children:(0,v.jsx)(o,{size:24})})]}),(0,v.jsx)(`div`,{className:`flex-1 overflow-hidden`,children:(0,v.jsx)(f,{value:g.team===`my`?t[g.index]||0:r[g.index]||0,onChange:b,isStatic:!0,selectedIds:g.team===`my`?t.filter(e=>e!==null):r.filter(e=>e!==null),onRemove:x,maxSelect:5})}),(0,v.jsx)(`div`,{className:`mt-4 text-center text-xs text-text-secondary italic`,children:`提示：在上方搜索框输入英雄名或直接从列表中选择英雄`})]}),(0,v.jsx)(`div`,{className:`flex-1 overflow-y-auto space-y-4 pr-2 custom-scrollbar relative z-10 min-h-[300px]`,children:C.partnerships.length===0&&C.mySuppression.length===0&&C.enemySuppression.length===0?(0,v.jsxs)(`div`,{className:`h-full flex flex-col items-center justify-center text-text-secondary opacity-50 py-12`,children:[(0,v.jsx)(s,{size:48,className:`mb-4`}),(0,v.jsx)(`p`,{className:`text-sm font-bold`,children:`选择英雄开始分析克制关系`})]}):(0,v.jsxs)(v.Fragment,{children:[C.partnerships.length>0&&(0,v.jsxs)(`div`,{className:`space-y-2 animate-in slide-in-from-bottom-2 duration-300`,children:[(0,v.jsxs)(`div`,{className:`flex items-center gap-2 text-success font-black text-xs uppercase tracking-widest px-1`,children:[(0,v.jsx)(h,{size:14}),` 最佳搭档`]}),C.partnerships.map((e,t)=>(0,v.jsxs)(`div`,{className:`bg-success/5 border border-success/10 p-3 rounded-2xl text-xs`,children:[(0,v.jsxs)(`div`,{className:`font-bold text-success mb-1`,children:[e.hero,` & `,e.partner]}),(0,v.jsx)(`p`,{className:`text-text-secondary leading-relaxed`,children:e.desc})]},t))]}),C.mySuppression.length>0&&(0,v.jsxs)(`div`,{className:`space-y-2 animate-in slide-in-from-bottom-2 duration-300 delay-75`,children:[(0,v.jsxs)(`div`,{className:`flex items-center gap-2 text-primary font-black text-xs uppercase tracking-widest px-1`,children:[(0,v.jsx)(d,{size:14}),` 我方压制`]}),C.mySuppression.map((e,t)=>(0,v.jsxs)(`div`,{className:`bg-primary/5 border border-primary/10 p-3 rounded-2xl text-xs`,children:[(0,v.jsxs)(`div`,{className:`font-bold text-primary mb-1`,children:[e.hero,` `,(0,v.jsx)(`span`,{className:`mx-1 text-text-secondary`,children:`压制`}),` `,e.enemy]}),(0,v.jsx)(`p`,{className:`text-text-secondary leading-relaxed`,children:e.desc})]},t))]}),C.enemySuppression.length>0&&(0,v.jsxs)(`div`,{className:`space-y-2 animate-in slide-in-from-bottom-2 duration-300 delay-150`,children:[(0,v.jsxs)(`div`,{className:`flex items-center gap-2 text-danger font-black text-xs uppercase tracking-widest px-1`,children:[(0,v.jsx)(m,{size:14}),` 敌方压制`]}),C.enemySuppression.map((e,t)=>(0,v.jsxs)(`div`,{className:`bg-danger/5 border border-danger/10 p-3 rounded-2xl text-xs`,children:[(0,v.jsxs)(`div`,{className:`font-bold text-danger mb-1`,children:[e.enemy,` `,(0,v.jsx)(`span`,{className:`mx-1 text-text-secondary`,children:`压制`}),` `,e.hero]}),(0,v.jsx)(`p`,{className:`text-text-secondary leading-relaxed`,children:e.desc})]},t))]})]})}),(0,v.jsx)(`div`,{className:`absolute -bottom-12 -right-12 w-48 h-48 bg-primary/5 rounded-full blur-3xl`})]})};function b(){let e=(0,g.c)(7),t,n;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,v.jsx)(`div`,{className:`absolute top-0 left-1/4 w-[500px] h-[500px] bg-primary/5 rounded-full blur-[120px] -translate-y-1/2`}),n=(0,v.jsx)(`div`,{className:`absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-success/5 rounded-full blur-[120px] translate-y-1/2`}),e[0]=t,e[1]=n):(t=e[0],n=e[1]);let r;e[2]===Symbol.for(`react.memo_cache_sentinel`)?(r=(0,v.jsx)(`div`,{className:`flex items-center gap-2 mb-2`,children:(0,v.jsx)(`span`,{className:`px-2 py-0.5 bg-primary/10 text-primary text-[10px] font-black uppercase tracking-widest rounded-md border border-primary/20`,children:`Assistant Tools`})}),e[2]=r):r=e[2];let i;e[3]===Symbol.for(`react.memo_cache_sentinel`)?(i=(0,v.jsx)(`div`,{className:`relative z-10 pt-8 pb-4 px-6 max-w-7xl mx-auto w-full`,children:(0,v.jsx)(`div`,{className:`flex flex-col md:flex-row md:items-end justify-between gap-4`,children:(0,v.jsxs)(`div`,{children:[r,(0,v.jsxs)(`h1`,{className:`text-4xl md:text-5xl font-black text-text-primary tracking-tighter flex items-center gap-3`,children:[`阵容克制分析`,(0,v.jsx)(l,{className:`text-primary hidden md:block`,size:32})]})]})})}),e[3]=i):i=e[3];let a;e[4]===Symbol.for(`react.memo_cache_sentinel`)?(a=(0,v.jsx)(`div`,{className:`relative z-10 flex-1 p-6 md:p-8 max-w-7xl mx-auto w-full`,children:(0,v.jsx)(`div`,{className:`animate-in fade-in slide-in-from-bottom-8 duration-700`,children:(0,v.jsx)(y,{})})}),e[4]=a):a=e[4];let o;e[5]===Symbol.for(`react.memo_cache_sentinel`)?(o=(0,v.jsx)(`div`,{className:`p-2 bg-primary/10 rounded-xl text-primary mt-0.5`,children:(0,v.jsx)(s,{size:18})}),e[5]=o):o=e[5];let c;return e[6]===Symbol.for(`react.memo_cache_sentinel`)?(c=(0,v.jsxs)(`div`,{className:`h-full bg-bg-page relative overflow-hidden flex flex-col`,children:[t,n,i,a,(0,v.jsx)(`div`,{className:`relative z-10 pb-8 px-6`,children:(0,v.jsxs)(`div`,{className:`max-w-2xl mx-auto bg-primary/5 backdrop-blur-sm border border-primary/10 p-4 rounded-2xl flex items-start gap-3 animate-in fade-in slide-in-from-bottom-4 duration-1000`,children:[o,(0,v.jsxs)(`div`,{className:`text-sm text-text-secondary leading-relaxed`,children:[(0,v.jsx)(`strong`,{className:`text-text-primary block mb-1`,children:`实战建议：`}),`阵容分析功能基于英雄关系数据，实时计算双方英雄的克制与搭档关系，帮助你在 BP 阶段或对战中快速定位核心威胁。`]})]})})]}),e[6]=c):c=e[6],c}export{b as default};