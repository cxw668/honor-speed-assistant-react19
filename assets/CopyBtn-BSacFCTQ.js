import{G as e,X as t,c as n,ct as r,dt as i,ft as a,m as o,o as s,pt as c,ut as l}from"./index-CLlfRqwZ.js";var u=s(`rotate-ccw`,[[`path`,{d:`M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`1357e3`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}]]),d=l(),f=c(a(),1),p=r();const m=(0,f.forwardRef)((e,t)=>{let n=(0,d.c)(14),r,i,a,o,s,c;n[0]===e?(r=n[1],i=n[2],a=n[3],o=n[4],s=n[5],c=n[6]):({children:r,variant:a,size:o,fullWidth:s,className:c,...i}=e,n[0]=e,n[1]=r,n[2]=i,n[3]=a,n[4]=o,n[5]=s,n[6]=c);let l=a===void 0?`primary`:a,u=o===void 0?`md`:o,f=s===void 0?!1:s,m=c===void 0?``:c,h;n[7]===Symbol.for(`react.memo_cache_sentinel`)?(h={primary:`bg-primary text-white shadow-lg shadow-primary/20 hover:bg-primary/90`,secondary:`bg-bg-page text-text-primary border border-border-light hover:bg-bg-card`,outline:`bg-transparent border-2 border-primary text-primary hover:bg-primary/5`},n[7]=h):h=n[7];let g=h,_;n[8]===Symbol.for(`react.memo_cache_sentinel`)?(_={sm:`px-4 py-2 text-sm`,md:`px-6 py-3 text-base`,lg:`px-8 py-4 text-lg`},n[8]=_):_=n[8];let v=_,y=`inline-flex items-center justify-center font-bold transition-all active:scale-95 disabled:opacity-50 disabled:active:scale-100 rounded-xl ${g[l]} ${v[u]} ${f?`w-full`:``} ${m}`,b;return n[9]!==r||n[10]!==i||n[11]!==t||n[12]!==y?(b=(0,p.jsx)(`button`,{ref:t,className:y,...i,children:r}),n[9]=r,n[10]=i,n[11]=t,n[12]=y,n[13]=b):b=n[13],b});m.displayName=`Button`;var h=l(),g=i();const _=n=>{let r=(0,h.c)(43),{message:i,duration:a,onClose:s,type:c}=n,l=a===void 0?2e3:a,u=c===void 0?`info`:c,[d,m]=(0,f.useState)(!0),_=e(),v,y;r[0]!==l||r[1]!==s?(v=()=>{let e=setTimeout(()=>{m(!1),setTimeout(s,300)},l);return()=>clearTimeout(e)},y=[l,s],r[0]=l,r[1]=s,r[2]=v,r[3]=y):(v=r[2],y=r[3]),(0,f.useEffect)(v,y);let b,x,S,C,w,T,E,D,O,k,A;if(r[4]!==d||r[5]!==_.palette.error.main||r[6]!==_.palette.primary.main||r[7]!==_.palette.success.main||r[8]!==u){let e={success:_.palette.success.main,error:_.palette.error.main,info:_.palette.primary.main};T=g.createPortal,x=o,w=`
      fixed top-10 left-1/2 -translate-x-1/2 z-1500
      w-max max-w-[90vw]
      ${d?`animate-in fade-in slide-in-from-top-4`:`animate-out fade-out slide-out-to-top-4`}
      duration-300
    `,b=o,D=t(e[u],.85),O=`blur(12px)`,k=`white`,A=3,S=1.5,C=`9999px`,E=t(e[u],.3),r[4]=d,r[5]=_.palette.error.main,r[6]=_.palette.primary.main,r[7]=_.palette.success.main,r[8]=u,r[9]=b,r[10]=x,r[11]=S,r[12]=C,r[13]=w,r[14]=T,r[15]=E,r[16]=D,r[17]=O,r[18]=k,r[19]=A}else b=r[9],x=r[10],S=r[11],C=r[12],w=r[13],T=r[14],E=r[15],D=r[16],O=r[17],k=r[18],A=r[19];let j=`0 8px 32px ${E}`,M;r[20]===Symbol.for(`react.memo_cache_sentinel`)?(M=t(`#fff`,.2),r[20]=M):M=r[20];let N;r[21]!==S||r[22]!==C||r[23]!==j||r[24]!==D||r[25]!==O||r[26]!==k||r[27]!==A?(N={bgcolor:D,backdropFilter:O,color:k,px:A,py:S,borderRadius:C,boxShadow:j,fontWeight:800,display:`flex`,alignItems:`center`,gap:1.5,border:`1px solid`,borderColor:M,whiteSpace:`pre-line`,textAlign:`center`},r[21]=S,r[22]=C,r[23]=j,r[24]=D,r[25]=O,r[26]=k,r[27]=A,r[28]=N):N=r[28];let P;r[29]===u?P=r[30]:(P=u===`success`&&(0,p.jsx)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`3`,strokeLinecap:`round`,strokeLinejoin:`round`,children:(0,p.jsx)(`path`,{d:`M20 6 9 17l-5-5`})}),r[29]=u,r[30]=P);let F;r[31]!==b||r[32]!==i||r[33]!==N||r[34]!==P?(F=(0,p.jsxs)(b,{sx:N,children:[P,i]}),r[31]=b,r[32]=i,r[33]=N,r[34]=P,r[35]=F):F=r[35];let I;r[36]!==x||r[37]!==w||r[38]!==F?(I=(0,p.jsx)(x,{className:w,children:F}),r[36]=x,r[37]=w,r[38]=F,r[39]=I):I=r[39];let L;return r[40]!==T||r[41]!==I?(L=T(I,document.body),r[40]=T,r[41]=I,r[42]=L):L=r[42],L},v=({text:e,label:t=`复制出装`,title:r,className:i=`w-full flex flex-col gap-3`})=>{let[a,o]=(0,f.useState)(!1),[s,c]=(0,f.useState)(``),[l,u]=(0,f.useState)(`success`),[d,h]=(0,f.useState)(!1),g=(0,p.jsxs)(m,{fullWidth:!0,onClick:async()=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(e),c(`出装方案已复制`),u(`success`),o(!0);else throw Error(`Clipboard API not available`)}catch(e){console.error(`Failed to copy: `,e),h(!0),c(`复制失败，请手动复制`),u(`error`),o(!0)}},children:[(0,p.jsxs)(`svg`,{className:`mr-2`,xmlns:`http://www.w3.org/2000/svg`,width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2.5`,strokeLinecap:`round`,strokeLinejoin:`round`,children:[(0,p.jsx)(`rect`,{width:`14`,height:`14`,x:`8`,y:`8`,rx:`2`,ry:`2`}),(0,p.jsx)(`path`,{d:`M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2`})]}),t]});return(0,p.jsxs)(`div`,{className:i,children:[r?(0,p.jsx)(n,{title:(0,p.jsx)(`div`,{className:`whitespace-pre-line text-[11px] leading-relaxed p-1`,children:r}),arrow:!0,placement:`top`,slotProps:{tooltip:{sx:{bgcolor:`rgba(31, 41, 55, 0.95)`,backdropFilter:`blur(4px)`,color:`#fff`,borderRadius:`12px`,padding:`8px 12px`,boxShadow:`0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)`,border:`1px solid rgba(255, 255, 255, 0.1)`,maxWidth:`300px`}},arrow:{sx:{color:`rgba(31, 41, 55, 0.95)`}}},children:g}):g,d&&(0,p.jsxs)(`div`,{className:`animate-in fade-in slide-in-from-top-2 duration-300`,children:[(0,p.jsx)(`textarea`,{readOnly:!0,value:e,className:`w-full h-24 p-3 bg-bg-page border-2 border-dashed border-border-light rounded-xl text-sm text-text-secondary focus:outline-none`,onClick:e=>e.target.select()}),(0,p.jsx)(`p`,{className:`text-[12px] text-text-secondary mt-1 text-center`,children:`由于系统限制，请长按上方文本框手动全选复制`})]}),a&&(0,p.jsx)(_,{message:s,type:l,onClose:()=>o(!1)})]})};export{_ as n,u as r,v as t};